Got you.
Weâ€™ll give **senior-level JavaScript challenges** â€” the kind that test:

* Logic & reasoning
* Async sequences
* Data transformation
* Closures
* Prototypes
* Real-world code patterns (not textbook)

No trick questions.
No â€œremember this APIâ€.
Just **can you think in JS**.

---

## **Challenge Set 1 â€” Arrays, Data, Logic**

### **1) Transform API Data**

You receive this array from an API:

```js
const users = [
  { id: 1, name: "John", roles: ["user"] },
  { id: 2, name: "Sara", roles: ["admin", "user"] },
  { id: 3, name: "Mike", roles: ["user"] }
];
```

Return **only names of users who are admin**:

```js
// result â†’ ["Sara"]
```

---

### **2) Group Items by Key**

```js
const orders = [
  { id: 1, user: 'A', amount: 100 },
  { id: 2, user: 'B', amount: 50 },
  { id: 3, user: 'A', amount: 75 }
];
```

Return:

```js
// {
//   A: [100, 75],
//   B: [50]
// }
```

---

### **3) Count Word Frequency**

```js
const text = "apple banana apple orange banana apple";
```

Return:

```js
// { apple: 3, banana: 2, orange: 1 }
```

---

## **Challenge Set 2 â€” Closures & Scope**

### **4) Create a Counter with Private State**

Write a `createCounter()` so:

```js
const counter = createCounter();
counter(); // 1
counter(); // 2
counter(); // 3
```

(without using class)

---

### **5) Fix This**

What is wrong and how do you fix it?

```js
const counters = [];

for (var i = 0; i < 3; i++) {
  counters.push(function() {
    console.log(i);
  });
}

counters[0](); // ?
counters[1](); // ?
counters[2](); // ?
```

Expected:

```
0, 1, 2
```

---

## **Challenge Set 3 â€” Async Mastery**

### **6) Promise Sequence (No `for` loops)**

Run the tasks **one after another**, not parallel:

```js
const tasks = [
  () => delay(500).then(() => console.log("A")),
  () => delay(300).then(() => console.log("B")),
  () => delay(100).then(() => console.log("C")),
];
```

Write `runInOrder(tasks)` to print:

```
A
B
C
```

---

### **7) Timeout with Promise**

Write a function:

```js
timeout(fetch("/data"), 2000)
```

Reject if fetch takes too long.

---

## **Challenge Set 4 â€” Real World Code Quality**

### **8) Deep Clone Objects**

No JSON stringify.

---

### **9) Implement `once(fn)`**

`once(fn)` returns a new function that **runs fn only the first time**.

---

### **10) Event Emitter**

Create:

```js
const bus = new EventEmitter();
bus.on("done", data => console.log(data));
bus.emit("done", { ok: true });
```

---

## **How Weâ€™ll Do This**

You **pick 1 challenge**, you solve it, I:

* Review your solution
* Point out improvements
* Show how seniors optimize the pattern

We repeat until:

* Your JS becomes **calm**
* Syntax becomes **automatic**
* No more â€œattention to detail slip-upsâ€

---

### Pick your first challenge:

**1 â†’ 10**
Reply with the number only.

For you, I recommend starting with:

**6) Promise Sequence**
or
**4) Closure Counter**

But **you choose.**

Here is the **correct answer** â€” and an explanation of what went wrong.

---

# âŒ **What's wrong with your code?**

```js
function runInOrder(tasks){
  Promise.all(tasks)
}
```

Two issues:

1. **`Promise.all(tasks)` runs everything in parallel**, not in sequence
2. You're passing the *functions*, not calling them
   â†’ should be `tasks[i]()` not `tasks[i]`

---

# âœ… **Correct Solution (No for loops)**

Use **Array.reduce** to chain promises one after another:

```js
function runInOrder(tasks) {
  return tasks.reduce((prev, task) => {
    return prev.then(() => task());
  }, Promise.resolve());
}

runInOrder(tasks);
```

### âœ” Output:

```
A
B
C
```

---

# ğŸ§  Why this works

* `reduce` starts with `Promise.resolve()` (an already finished promise)
* Each task runs **after** the previous `.then()` resolves
* So tasks run: A â†’ B â†’ C, even though each returns a promise

---

# ğŸ”¥ Bonus: Even cleaner async/await (no loops asked, but good to know)

```js
async function runInOrder(tasks) {
  for (const task of tasks) {
    await task();
  }
}
```

But you said **NO for loops**, so the reduce solution is the expected interview answer.

---

If you want, I can give you 5 harder promise sequence challenges (often asked in senior interviews).
